[
  {
    "stages": [
      {
        "stage_id": "RAW WATER SUPPLY",
        "components": [
          {
            "component_id": "RWS",
            "connections": [
              {
                "from": "RWS",
                "to": "E-1",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "E-1",
            "connections": [
              {
                "from": "E-1",
                "to": "T-101",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "T-101",
            "connections": [
              {
                "from": "T-101",
                "to": "E-2",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "E-2",
            "connections": [
              {
                "from": "E-2",
                "to": "P-101",
                "via": "pipe"
              },
              {
                "from": "E-2",
                "to": "P-102",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-101",
            "connections": [
              {
                "from": "P-101",
                "to": "FI",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-102",
            "connections": [
              {
                "from": "P-102",
                "to": "FI",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "FI",
            "connections": [
              {
                "from": "FI",
                "to": "E-3",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "E-3",
            "connections": [
              {
                "from": "E-3",
                "to": "Mixer",
                "via": "pipe"
              }
            ]
          }
        ]
      },
      {
        "stage_id": "CHEMICAL DOSING",
        "components": [
          {
            "component_id": "CS",
            "connections": [
              {
                "from": "CS",
                "to": "E-4",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "E-4",
            "connections": [
              {
                "from": "E-4",
                "to": "T-201",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "T-201",
            "connections": [
              {
                "from": "T-201",
                "to": "E-5",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "E-5",
            "connections": [
              {
                "from": "E-5",
                "to": "P-201",
                "via": "pipe"
              },
              {
                "from": "E-5",
                "to": "P-202",
                "via": "pipe"
              },
              {
                "from": "E-5",
                "to": "P-203",
                "via": "pipe"
              },
              {
                "from": "E-5",
                "to": "P-204",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-201",
            "connections": [
              {
                "from": "P-201",
                "to": "E-6",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-202",
            "connections": [
              {
                "from": "P-202",
                "to": "E-6",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-203",
            "connections": [
              {
                "from": "P-203",
                "to": "E-6",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-204",
            "connections": [
              {
                "from": "P-204",
                "to": "E-6",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "E-6",
            "connections": [
              {
                "from": "E-6",
                "to": "Mixer",
                "via": "pipe"
              }
            ]
          }
        ]
      },
      {
        "stage_id": "MIXING & TRANSFER",
        "components": [
          {
            "component_id": "Mixer",
            "connections": [
              {
                "from": "E-3",
                "to": "Mixer",
                "via": "pipe"
              },
              {
                "from": "E-6",
                "to": "Mixer",
                "via": "pipe"
              },
              {
                "from": "Mixer",
                "to": "TO PROCESS",
                "via": "pipe"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "stages": [
      {
        "stage_id": "P3 (Ultrafiltration)",
        "components": [
          {
            "component_id": "P-301",
            "connections": [
              {
                "from": "P-301",
                "to": "PIT 301",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-302",
            "connections": [
              {
                "from": "P-302",
                "to": "PIT 302",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PIT 301",
            "connections": [
              {
                "from": "PIT 301",
                "to": "Magnetic",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PIT 302",
            "connections": [
              {
                "from": "PIT 302",
                "to": "Magnetic",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "Magnetic",
            "connections": [
              {
                "from": "Magnetic",
                "to": "FIT 301",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "FIT 301",
            "connections": [
              {
                "from": "FIT 301",
                "to": "UF FEED",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "UF FEED",
            "connections": [
              {
                "from": "UF FEED",
                "to": "Rotameter",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "Rotameter",
            "connections": [
              {
                "from": "Rotameter",
                "to": "UF Membrane",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "UF Membrane",
            "connections": [
              {
                "from": "UF Membrane",
                "to": "MV-304",
                "via": "pipe"
              },
              {
                "from": "UF Membrane",
                "to": "PIT 303",
                "via": "pipe"
              },
              {
                "from": "UF Membrane",
                "to": "PIT 304",
                "via": "pipe"
              },
              {
                "from": "UF Membrane",
                "to": "FIT 302",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "MV-304",
            "connections": [
              {
                "from": "MV-304",
                "to": "UF REJECT",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "UF REJECT",
            "connections": [
              {
                "from": "UF REJECT",
                "to": "Drain",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "FIT 302",
            "connections": [
              {
                "from": "FIT 302",
                "to": "UF 301",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "UF 301",
            "connections": [
              {
                "from": "UF 301",
                "to": "MV-305",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "MV-305",
            "connections": [
              {
                "from": "MV-305",
                "to": "UF DRAIN",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "MV-301",
            "connections": [
              {
                "from": "MV-301",
                "to": "UF PERMEATE",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "UF PERMEATE",
            "connections": [
              {
                "from": "UF PERMEATE",
                "to": "MV-302",
                "via": "pipe"
              },
              {
                "from": "UF PERMEATE",
                "to": "MV-303",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "MV-302",
            "connections": [
              {
                "from": "MV-302",
                "to": "RO Feed Water Tank",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "MV-303",
            "connections": [
              {
                "from": "MV-303",
                "to": "Sample",
                "via": "pipe"
              },
              {
                "from": "MV-303",
                "to": "pH",
                "via": "pipe"
              }
            ]
          }
        ]
      },
      {
        "stage_id": "P4 (Dechlorination)",
        "components": [
          {
            "component_id": "T-401",
            "connections": [
              {
                "from": "T-401",
                "to": "P-401",
                "via": "pipe"
              },
              {
                "from": "T-401",
                "to": "P-402",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-401",
            "connections": [
              {
                "from": "P-401",
                "to": "PIT 401",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-402",
            "connections": [
              {
                "from": "P-402",
                "to": "PIT 402",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PIT 401",
            "connections": [
              {
                "from": "PIT 401",
                "to": "Magnetic",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PIT 402",
            "connections": [
              {
                "from": "PIT 402",
                "to": "Magnetic",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "Magnetic",
            "connections": [
              {
                "from": "Magnetic",
                "to": "FIT 401",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "FIT 401",
            "connections": [
              {
                "from": "FIT 401",
                "to": "UV 401",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "UV 401",
            "connections": [
              {
                "from": "UV 401",
                "to": "PIT 403",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PIT 403",
            "connections": [
              {
                "from": "PIT 403",
                "to": "UV Dechlorinator",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "UV Dechlorinator",
            "connections": [
              {
                "from": "UV Dechlorinator",
                "to": "FIT 402",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "FIT 402",
            "connections": [
              {
                "from": "FIT 402",
                "to": "RO FEED",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "RO FEED",
            "connections": [
              {
                "from": "RO FEED",
                "to": "Static Mixer",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "Static Mixer",
            "connections": [
              {
                "from": "Static Mixer",
                "to": "To RO",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "T-402",
            "connections": [
              {
                "from": "T-402",
                "to": "LT 401",
                "via": "pipe"
              },
              {
                "from": "T-402",
                "to": "P-403A P-403B",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-403A P-403B",
            "connections": [
              {
                "from": "P-403A P-403B",
                "to": "FIT 403",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "FIT 403",
            "connections": [
              {
                "from": "FIT 403",
                "to": "Static Mixer",
                "via": "pipe"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "stages": [
      {
        "stage_id": "P5 (RO)",
        "components": [
          {
            "component_id": "A (Raw Water)",
            "connections": [
              {
                "from": "A (Raw Water)",
                "to": "B (Cartridge Filter)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "B (Cartridge Filter)",
            "connections": [
              {
                "from": "B (Cartridge Filter)",
                "to": "C (RO Feed Pump 1)",
                "via": "pipe (RO FEED)"
              },
              {
                "from": "B (Cartridge Filter)",
                "to": "D (RO Feed Pump 2)",
                "via": "pipe (RO FEED)"
              }
            ]
          },
          {
            "component_id": "C (RO Feed Pump 1)",
            "connections": [
              {
                "from": "C (RO Feed Pump 1)",
                "to": "E (RO 5101)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "D (RO Feed Pump 2)",
            "connections": [
              {
                "from": "D (RO Feed Pump 2)",
                "to": "E (RO 5101)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "E (RO 5101)",
            "connections": [
              {
                "from": "E (RO 5101)",
                "to": "F (RO PERMEATE CONCENTRATE)",
                "via": "pipe"
              },
              {
                "from": "E (RO 5101)",
                "to": "I (RO RECIRCULATION)",
                "via": "pipe"
              },
              {
                "from": "E (RO 5101)",
                "to": "K (RO PERMEATE REJECT)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "F (RO PERMEATE CONCENTRATE)",
            "connections": [
              {
                "from": "F (RO PERMEATE CONCENTRATE)",
                "to": "G (RO 1st STAGE PERMEATE)",
                "via": "pipe"
              },
              {
                "from": "F (RO PERMEATE CONCENTRATE)",
                "to": "H (RO 2nd STAGE PERMEATE)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "G (RO 1st STAGE PERMEATE)",
            "connections": [
              {
                "from": "G (RO 1st STAGE PERMEATE)",
                "to": "M (Product Water)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "H (RO 2nd STAGE PERMEATE)",
            "connections": [
              {
                "from": "H (RO 2nd STAGE PERMEATE)",
                "to": "M (Product Water)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "I (RO RECIRCULATION)",
            "connections": [
              {
                "from": "I (RO RECIRCULATION)",
                "to": "J (Recirculation Stream)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "J (Recirculation Stream)",
            "connections": [
              {
                "from": "J (Recirculation Stream)",
                "to": "B (Cartridge Filter)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "K (RO PERMEATE REJECT)",
            "connections": [
              {
                "from": "K (RO PERMEATE REJECT)",
                "to": "L (To Drain)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "M (Product Water)",
            "connections": [
              {
                "from": "M (Product Water)",
                "to": "N (To Service)",
                "via": "pipe"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "stages": [
      {
        "stage_id": "P6_1 (RO Permeate Module)",
        "components": [
          {
            "component_id": "LAH 601",
            "connections": [
              {
                "from": "From RO System",
                "to": "LAH 601",
                "via": "RO PERMEATE"
              }
            ]
          },
          {
            "component_id": "LAL 601",
            "connections": [
              {
                "from": "LAH 601",
                "to": "LAL 601",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "LT 601",
            "connections": [
              {
                "from": "LAL 601",
                "to": "LT 601",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "T-601 (RO Permeate Tank)",
            "connections": [
              {
                "from": "LT 601",
                "to": "T-601 (RO Permeate Tank)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PI 601",
            "connections": [
              {
                "from": "T-601 (RO Permeate Tank)",
                "to": "PI 601",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-601 (RO Permeate Pump)",
            "connections": [
              {
                "from": "PI 601",
                "to": "P-601 (RO Permeate Pump)",
                "via": "pipe"
              },
              {
                "from": "P-601 (RO Permeate Pump)",
                "to": "Raw Water Tank",
                "via": "RO PERMEATE TRANSFER"
              }
            ]
          }
        ]
      },
      {
        "stage_id": "P6_2 (UF Backwash Module)",
        "components": [
          {
            "component_id": "LAH 602",
            "connections": [
              {
                "from": "From RO Reject",
                "to": "LAH 602",
                "via": "RO REJECT"
              }
            ]
          },
          {
            "component_id": "LAL 602",
            "connections": [
              {
                "from": "LAH 602",
                "to": "LAL 602",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "LT 602",
            "connections": [
              {
                "from": "LAL 602",
                "to": "LT 602",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "T-602 (UF Backwash Tank)",
            "connections": [
              {
                "from": "LT 602",
                "to": "T-602 (UF Backwash Tank)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PI 602",
            "connections": [
              {
                "from": "T-602 (UF Backwash Tank)",
                "to": "PI 602",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "P-602 (UF Backwash Pump)",
            "connections": [
              {
                "from": "PI 602",
                "to": "P-602 (UF Backwash Pump)",
                "via": "pipe"
              },
              {
                "from": "P-602 (UF Backwash Pump)",
                "to": "FE 602",
                "via": "UF BACKWASH"
              }
            ]
          },
          {
            "component_id": "FE 602",
            "connections": [
              {
                "from": "FE 602",
                "to": "UF Backwash",
                "via": "pipe"
              }
            ]
          }
        ]
      },
      {
        "stage_id": "P6_3 (RO/UF Cleaning Module)",
        "components": [
          {
            "component_id": "LAH 603",
            "connections": [
              {
                "from": "From Stock Chemical",
                "to": "LAH 603",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "LAL 603",
            "connections": [
              {
                "from": "From RO System",
                "to": "LAL 603",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "LT 603",
            "connections": [
              {
                "from": "LAH 603",
                "to": "LT 603",
                "via": "pipe"
              },
              {
                "from": "LAL 603",
                "to": "LT 603",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "T-603 (CIP Tank)",
            "connections": [
              {
                "from": "LT 603",
                "to": "T-603 (CIP Tank)",
                "via": "RO PERMEATE"
              }
            ]
          },
          {
            "component_id": "P-603 (CIP Pump)",
            "connections": [
              {
                "from": "T-603 (CIP Tank)",
                "to": "P-603 (CIP Pump)",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PI 603",
            "connections": [
              {
                "from": "P-603 (CIP Pump)",
                "to": "PI 603",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "Cartridge",
            "connections": [
              {
                "from": "PI 603",
                "to": "Cartridge",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "PI 604",
            "connections": [
              {
                "from": "Cartridge",
                "to": "PI 604",
                "via": "pipe"
              }
            ]
          },
          {
            "component_id": "To RO/UF Cleaning",
            "connections": [
              {
                "from": "PI 604",
                "to": "To RO/UF Cleaning",
                "via": "RO CIP"
              }
            ]
          },
          {
            "component_id": "PI Permeate",
            "connections": [
              {
                "from": "PI 604",
                "to": "PI Permeate",
                "via": "pipe"
              }
            ]
          }
        ]
      }
    ]
  }
]